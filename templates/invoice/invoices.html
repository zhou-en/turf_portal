{% extends 'base.html' %}

{% block content %}
    <br>
    <h3>Invoices</h3>
    <br>
  <br>
    <table id="invoices-table" class="display table table-striped table-hover">
      <thead class="thead-dark">
      <tr>
        <th>Invoice #</th>
        <th>Status</th>
        <th>Order</th>
        <th>Buyer</th>
        <th>Created Date</th>
        <th>Closed Date</th>
        <th>TESst</th>
      </tr>
      </thead>
      <tbody>
      {% for invoice in invoices %}
        <tr>
          <td><a href="{% url 'invoice' invoice.id %}"><span>{{ invoice.number }}</span></a></td>
          <td><a class="btn btn-sm btn-{{ invoice.status_color }}" style="pointer-events: none;">{{ invoice.status }}</a></td>
          <td><a href="{% url 'order' invoice.order.id %}"><span>{{ invoice.order.number }}</span></a></td>
          <td><a href="{% url 'buyer' invoice.buyer.id %}"><span>{{ invoice.buyer.name }}</span></a></td>
          <td>{{ invoice.created }}</td>
          <td>{% if not invoice.closed_date %} - {% else %}{{ invoice.closed_date }} {% endif %}</td>
          <td><a href="{% url 'payment-create' invoice.id %}"><span>Add Payment</span></a></td>
        </tr>
      {% endfor %}
      </tbody>
    </table>

  <script>
      $(document).ready( function () {
          $('#invoices-table').DataTable();
      } );
  </script>

{% endblock %}
